{% if querier is defined %}
{{ querier.name }}:
  image: "{{ dapp_thanos_docker_image }}"
  container_name: {{ querier.name }}
  restart: unless-stopped
  logging:
    driver: journald
    options:
      tag: "{{ querier.name }}"
  networks:
    - traefik_proxy
  expose: {{ querier.expose }}
{% if querier.ports is defined %}
  ports: {{ querier.ports }}
{% endif %}
  environment:
    {{ dapp_thanos_environment|indent(6) }}
  command: {{ querier.command }}
{% if querier.links is defined %}
  links: {{ querier.links }}
{% endif %}
{% if querier.labels is defined %}
  labels: {{ querier.labels }}
{% endif %}
{% endif %}
